jQuery(function(t){var a=1;t.fn.Translatable=function(n,e){n=n||ADMIN_TRANSLATIONS,e=e?e:n[0];var i=t(this).not(".translated-item, .translate-item");return get_translations=function(t,a){var e={},i="";if(0==t.trim().search("<!--")&&t){var r=t.split("<!--:-->");for(var s in r){var l=r[s],o=l.trim().match(/^<!--:([\w||-]{2,5})/);o&&2==o.length&&(o[1]=o[1].replace("--",""),e[o[1]]=l.replace("<!--:"+o[1]+"-->",""))}i=e}else{for(var s in n)e[n[s]]=t;i=e}return a?get_translation(i,a):i},get_translation=function(t,a){return a in t?t[a]:n[0]in t?t[n[0]]:""},n.length<2?(i.each(function(){t(this).val(get_translations(t(this).val(),n[0]))}),this):(i.each(function(){var e=t(this),i=[],r=[],s=get_translations(e.val()),l={},o=e.parent().hasClass("form-group")?"":"form-group";for(var v in n){var c=n[v],d="translation-"+c+"-"+a;i.push('<li role="presentation" class="pull-right '+(0==v?"active":"")+'"><a href="#pane-'+d+'" role="tab" data-toggle="tab">'+c.titleize()+"</a></li>");var p=e.clone(!0).attr({id:d,name:d,"data-name":d,"data-translation_l":c,"data-translation":"translation-"+c}).addClass("translate-item").val(get_translation(s,c));v>0&&!p.hasClass("required_all_langs")&&p.removeClass("required"),l[c]=p,p.wrap("<div class='tab-pane "+o+" trans_tab_item "+(0==v?"active":"")+"' id='pane-"+d+"'/>"),r.push(p.parent()),a++,p.bind("change change_in",function(){var t=[];for(var a in l)t.push("<!--:"+a+"-->"+l[a].val()+"<!--:-->");e.val(t.join("")),"object"==typeof tinymce&&e.is("textarea")&&e.attr("id")&&tinymce.get(e.attr("id"))&&tinymce.get(e.attr("id")).setContent(t.join(""))})}var h=t('<div class="trans_panel" role="tabpanel"><ul class="nav nav-tabs" role="tablist"></ul><div class="tab-content"></div></div>');h.find(".nav-tabs").append(i.reverse()),h.find(".tab-content").append(r),e.addClass("translated-item").hide().after(h),e.data("translation_inputs",l),e.bind("trans_integrate",function(){var a=[];for(var n in l)a.push("<!--:"+n+"-->"+l[n].val()+"<!--:-->");e.show().val(a.join("")),"object"==typeof tinymce&&e.is("textarea")&&e.attr("id")&&tinymce.get(e.attr("id"))&&tinymce.get(e.attr("id")).setContent(a.join("")),h.remove(),t(this).removeClass("translated-item")})}),this)}});